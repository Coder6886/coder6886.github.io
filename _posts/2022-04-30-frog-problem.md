---
layout:     post
title:      青蛙问题
subtitle:   
date:       2022-04-30
author:     coder6886
header-img: img/post-bg-ios9-web.jpg
catalog: true
usemathjax: true
tags:
    - 数学
---
# 题目
有一只🐸，看着一条河，想跳过河。

河上有一些🍀，有$n-1$个。（算上终点的话是$n$个）

🐸每次能跳过任意多个🍀，跳到他前面的任意一个🍀（或📍）上面的概率相等。

现问，🐸跳的步数预期值是多少

🐸🍀🍀🍀🍀🍀🍀🍀🍀🍀🍀📍
# 解法V1
程序模拟（太慢了）
# 解法V2
首先，我们可以把预期值变成一个数列$f_n$，数列的第$n$个值就是预期值。

可以发现，

$$

f_0 = 0

$$

$$

f_n = 1+\sum_{k=0}^{n-1}{\frac{f_k}{n}}

$$

可以这样想，🐸可以跳到它面前任意一个位置，如果直接跳到📍，那就是$k=0$，$f_k$就是那种情况的预期。如果跳到最后一片🍀，那就$k=1$。以此类推，如果🐸只跳到第一个🍀，那$k$就等于$n$。最后，我们要把它们都平均一下。而且，我们到达那么多种情况都先需要跳一部。

如果我们根据这个公式递推下去，就可以得到🐸跳的预期值了。
# 解法V3
可以注意到，当

$$

f_n = 1+\sum_{k=0}^{n-1}{\frac{f_k}{n}}

$$

时，

$$

f_{n-1} = 1+\sum_{k=0}^{n-2}{\frac{f_k}{n-1}}

$$

根据上式得出，

$$

\sum_{k=0}^{n-2}{f_k}=(f_{n-1}-1)(n-1)

$$

然后可以推出

$$

\sum_{k=0}^{n-1}{f_k} = (\sum_{k=0}^{n-2}{f_k})+f_{n-1}=(f_{n-1}-1)(n-1)+f_{n-1}

$$

$$

\sum_{k=0}^{n-1}{\frac{f_k}{n}}=\frac{(f_{n-1}-1)(n-1)+f_{n-1}}{n}

$$

$$

f_n=1+\sum_{k=0}^{n-1}{\frac{f_k}{n}}=1+\frac{(f_{n-1}-1)(n-1)+f_{n-1}}{n}

$$

化简后可得

$$

f_n=\frac{n(f_{n-1}-1)+n-1}{n}

$$

$$

= f_{n-1}-1+\frac{n+1}{n}

$$

$$

= f_{n-1}+\frac{1}{n}

$$

# 解法V4
将几个值带入上式找规律

$$

f_0=0

$$

$$

f_1=0+\frac{1}{1}

$$

$$

f_2=0+\frac{1}{1}+\frac{1}{2}

$$

$$

f_3=0+\frac{1}{1}+\frac{1}{2}+\frac{1}{3}

$$

这不就是调和级数吗？

最终解法：

$$

f_n = \sum_{k=1}^{n}\frac{1}{k}

$$

🐸：“我已经跳过去很长时间了，你们还在这里做题……”