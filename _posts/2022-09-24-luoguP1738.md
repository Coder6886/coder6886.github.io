---
layout:     post
title:      洛谷P1738
subtitle:   
date:       2022-09-24
author:     coder6886
header-img: img/post-bg-ios9-web.jpg
catalog: true
usemathjax: false
tags:
    [ 洛谷 , c++ , NOIP]
---
程序：
```cpp
#include<bits/stdc++.h>

using namespace std;
int idx = 1;
int ans = 0;
struct node{
    string val;
    vector<int> childs;
}nodes[100010];
void add(string nval,int father){
    nodes[father].childs.push_back(idx);
    nodes[idx].val = nval;
    ans ++;
    idx ++;
}
int main(){
    int n;
    cin >> n;
    for(int i = 0; i < n; i++){
        string s;
        cin >> s;
        s += '/';
        string s1;
        int nownode = 0;
        for(int j = 1; j < s.size(); j++){
            if(s[j] == '/'){
                bool flag = false;
                for(auto k :nodes[nownode].childs){
                    if(nodes[k].val== s1){
                        flag = true;
                        nownode = k;
                        break;
                    }
                }
                if(!flag){
                    add(s1,nownode);
                    nownode = idx-1;
                }
                s1 = "";
            }
            else{
                s1+=s[j];
            }
        }
        cout << ans << endl;
    }
    return 0;
}

```